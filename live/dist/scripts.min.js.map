{"version":3,"file":"scripts.min.js","mappings":"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","sources":["webpack://app-mobius-forms5/webpack/runtime/chunk loaded","webpack://app-mobius-forms5/./src/ts/index.ts","webpack://app-mobius-forms5/./src/ts/lib-2sxc-alerts.ts","webpack://app-mobius-forms5/./src/ts/lib-2sxc-forms.ts","webpack://app-mobius-forms5/./src/ts/lib-2sxc-recaptcha.ts","webpack://app-mobius-forms5/./src/ts/lib-2sxc-tippy.ts","webpack://app-mobius-forms5/./src/ts/lib-2sxc-tracking.ts","webpack://app-mobius-forms5/webpack/bootstrap","webpack://app-mobius-forms5/webpack/runtime/define property getters","webpack://app-mobius-forms5/webpack/runtime/hasOwnProperty shorthand","webpack://app-mobius-forms5/webpack/runtime/make namespace object","webpack://app-mobius-forms5/webpack/runtime/jsonp chunk loading","webpack://app-mobius-forms5/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import { showAlert } from './lib-2sxc-alerts';\nimport { disableInputs, enableInputs, getFormValues, sendForm, validateForm } from './lib-2sxc-forms';\nimport { PristineOptions } from './lib-2sxc-pristine-options';\nimport { getRecaptchaToken, requiresRecaptcha } from './lib-2sxc-recaptcha';\nimport { addTrackingEvent } from './lib-2sxc-tracking';\nimport { initTippy } from './lib-2sxc-tippy';\n\nlet Pristine = require(\"../../node_modules/pristinejs\");\n\nconst debug = false;\n\nvar winAny = window as any;\nwinAny.appMobius6 ??= {};\nwinAny.appMobius6.init ??= initAppMobius;\nwinAny.appMobius6.initTippy ??= initTippy;\n\n\nfunction initAppMobius({ domAttribute, webApiUrl, validationOptions } : { domAttribute: string, webApiUrl: string, validationOptions: PristineOptions }) {\n  if (debug) console.log(\"Mobius5 loading, debug is enabled\", domAttribute);\n  if (document.getElementsByTagName('form').length) document.getElementsByTagName('form')[0].setAttribute('novalidate', '');\n\n  const mobiusWrapper = document.querySelectorAll(`[${domAttribute}]`)[0];\n\n  if(!mobiusWrapper) return\n\n  const nextStepButtons = mobiusWrapper.querySelectorAll('.btn-mobius-next-step');\n  nextStepButtons.forEach((btn: Element) => {\n    const sendButton = mobiusWrapper.querySelector('[app-mobius6-send]') as HTMLElement;\n    sendButton.style.display = 'none';\n    \n    btn.addEventListener('click', (event: Event) => {\n      event.preventDefault();\n      const btnElement = btn as HTMLElement;\n      const parentNode = btn.closest('.mobius-group') as HTMLElement;\n      const stepForm = new Pristine(parentNode, validationOptions);\n\n      if(stepForm.validate()) {\n        const closestGroup = parentNode.closest('.mobius-group');\n        if (!closestGroup) return;\n        const nextStep = closestGroup.nextElementSibling;\n        if (!nextStep) return;\n        const nextStepButton = nextStep.querySelector('.btn-mobius-next-step');\n        \n        if(parentNode != null) {\n          btnElement.style.display = 'none';\n          \n          nextStep.classList.add('active');\n\n          if(nextStepButton == null)\n            sendButton.style.display = 'block';\n\n        }\n      }\n    })\n  })\n\n  const submitButton = (mobiusWrapper.querySelectorAll('[app-mobius6-send]')[0] as HTMLButtonElement)\n  submitButton.addEventListener('click', async (event: Event) => {\n    event.preventDefault();\n\n    const eventBtn = event.currentTarget as HTMLElement;\n    addTrackingEvent('trackMobiusForm', 'mobius-form', eventBtn.innerText)\n    \n    var valid = validateForm(mobiusWrapper, validationOptions)\n    if (!valid) {\n      showAlert(mobiusWrapper, 'msgIncomplete')\n      return\n    }\n    \n    const formValues = await getFormValues(mobiusWrapper)\n\n    if (requiresRecaptcha(mobiusWrapper)) {\n      let token = await getRecaptchaToken(mobiusWrapper)\n      if (!token) return showAlert(mobiusWrapper, 'msgRecap')\n  \n      // set token for backend\n      formValues.Recaptcha = token\n    }\n\n    const mailchimp = mobiusWrapper.classList.contains('app-mobius5-mailchimp');\n    formValues.MailChimp = mailchimp; \n\n    // imply that message is sending by ui modifications \n\n    disableInputs(mobiusWrapper, true)\n    showAlert(mobiusWrapper, 'msgSending')\n      \n    //#region request handling\n\n    let endpoint = webApiUrl // (should be \"Form/ProcessForm\" or a custom override)\n\n    sendForm(formValues, submitButton, endpoint) \n      .then((result: any) => {        \n        // error\n        if(!result.ok) {\n          if(debug) console.log('error', result.status);\n    \n          showAlert(mobiusWrapper, 'msgError')\n          enableInputs(mobiusWrapper)\n    \n          addTrackingEvent('trackMobiusForm', 'mobius-form', submitButton.innerText)\n          return\n        }\n        \n        // success\n        if(debug) console.log('success', result)\n  \n        showAlert(mobiusWrapper, 'msgOk')\n        disableInputs(mobiusWrapper, false)\n  \n        addTrackingEvent('trackMobiusForm', 'mobius-form', submitButton.innerText)\n      })\n\n    //#endregion\n  })\n}","/*\r\n  This is a shared code used in various 2sxc apps. Make sure that they are in sync, so if you improve it, improve all 2sxc apps which use this. \r\n  ATM they are:\r\n  - EventsAndCourses6\r\n  - MobiusForms5\r\n  The master with the newest / best version must always be the Gallery7, the others should then get a fresh copy.\r\n  Because this is shared, all parameters like DOM-IDs etc. must be provided in the Init-call that it can work across apps\r\n*/ \r\n\r\n// .alert class needs to be included in alert message\r\nexport function showAlert(wrapper: Element, responseMessageElement: string) {\r\n  wrapper.querySelectorAll('.alert').forEach((elem: Element) => (elem as HTMLElement).style.display = 'none');\r\n  if (responseMessageElement !== '') (wrapper.querySelector(`#${responseMessageElement}`) as HTMLElement).style.display = 'block';\r\n}","import { CommandNames } from \"@2sic.com/2sxc-typings\";\nimport { PristineOptions } from \"./lib-2sxc-pristine-options\";\n\nlet Pristine = require(\"../../node_modules/pristinejs\");\ndeclare let $2sxc: any;\n\n/*\n  This is a shared code used in various 2sxc apps. Make sure that they are in sync, so if you improve it, improve all 2sxc apps which use this. \n  ATM they are:\n  - EventsAndCourses6\n  - MobiusForms6\n  - Jobs\n  The master with the newest / best version must always be the Gallery7, the others should then get a fresh copy.\n  Because this is shared, all parameters like DOM-IDs etc. must be provided in the Init-call that it can work across apps\n*/\n\nconst promiseFileMap = (file: { Encoded: Promise<unknown> }) => {\n  if (!file.Encoded) return file;\n  return new Promise((resolve) => {\n    file.Encoded.then((result) => resolve({ ...file, Encoded: result }));\n  });\n};\n\n// automatically build the send-object with all properties,\n// based on all form-fields which have a item-property=\"\"\nexport async function getFormValues(formWrapper: Element): Promise<any> {\n  let data: any = {\n    Files: [],\n    Fields: {},\n    Terms: {},\n    CustomerMails: \"\",\n  };\n\n  const fields = formWrapper.querySelectorAll(\"input,textarea,select\");\n\n  fields.forEach((formField: Element) => {\n    const formFieldElement = formField as HTMLInputElement;\n    const fieldKey = getFieldKey(formFieldElement);\n    if (!fieldKey || !formFieldElement.value) return;\n\n    // for checkboxList to get a array with fieldId and the values\n    if (formField.hasAttribute(\"data-checkbox\")) {\n      const fieldId = formField.getAttribute(\"data-checkbox\");\n      const fieldValue = getFieldValue(formFieldElement);\n      // Check if the array for this fieldId exists, if not, create it in the data object\n\n      if (fieldId) {\n        if (!data[\"Fields\"][fieldId]) {\n          data[\"Fields\"][fieldId] = [];\n        }\n\n        if (fieldValue !== \"\") {\n          data[\"Fields\"][fieldId].push(fieldValue);\n        }\n      }\n    }\n\n    // for Multiple Dropdown to get a array with fieldId and the values\n    if (\n      formField.hasAttribute(\"data-multiple-dropdown\") &&\n      formField.tagName == \"SELECT\"\n    ) {\n      const fieldId = formField.id; // Use the ID of the select element\n      const selectedOptions = (formField as any).selectedOptions;\n\n      // Check if the array for this fieldId exists, if not, create it in the data object\n      if (!data[\"Fields\"][fieldId]) {\n        data[\"Fields\"][fieldId] = [];\n      }\n      // loop for each option Value\n      for (let i = 0; i < selectedOptions.length; i++) {\n        const optionValue = selectedOptions[i].value;\n        if (optionValue !== \"\") {\n          data[\"Fields\"][fieldId].push(optionValue);\n        }\n      }\n      return;\n    }\n\n    // if it has a recipient email\n    if (formField.getAttribute(\"mail\") === \"recipientEmail\") {\n      if (data[\"CustomerMails\"] !== \"\") {\n        data[\"CustomerMails\"] += \"; \";\n      }\n      data[\"CustomerMails\"] += getFieldValue(formFieldElement);\n    }\n\n    // If it is an attachment then add it to Files\n    if (\n      formField.getAttribute(\"type\") &&\n      formField.getAttribute(\"type\")?.toLowerCase() == \"file\"\n    ) {\n      data[\"Files\"].push({\n        ...(getFieldValue(formFieldElement) as object),\n        Field: fieldKey,\n      });\n      return;\n    }\n    // If Checkbox or Radio not checked, data will not add in the Request\n    if (\n      formField.getAttribute(\"type\") &&\n      (formField.getAttribute(\"type\")?.toLowerCase() == \"checkbox\" ||\n        formField.getAttribute(\"type\")?.toLowerCase() == \"radio\") &&\n      !(formField as HTMLInputElement).checked\n    ) {\n      return;\n    }\n    // If the type is a checkbox with an attribute terms, then it will add it to the terms\n\n    if (\n      formField.getAttribute(\"type\") &&\n      formField.getAttribute(\"type\")?.toLowerCase() == \"checkbox\" &&\n      formField.getAttribute(\"terms\")\n    ) {\n      data[\"Terms\"][fieldKey] = getFieldValue(formFieldElement);\n      return;\n    } else if (!formField.hasAttribute(\"data-checkbox\")) {\n      // If it is a normal field, e.g. first name, then it is added to the field.\n      data[\"Fields\"][fieldKey] = getFieldValue(formFieldElement);\n    }\n  });\n\n  return Promise.all(data.Files.map(promiseFileMap)).then((loadedFiles) => {\n    return { ...data, Files: loadedFiles };\n  });\n}\n\nfunction getFieldKey(formField: HTMLInputElement): string {\n  // get the property name from special-attribute, name OR id\n  return formField.getAttribute(\"name\") ?? formField.getAttribute(\"id\") ?? \"\";\n}\n\nfunction getFieldValue(\n  formField: HTMLInputElement\n): { Encoded: Promise<unknown>; Name: string } | unknown {\n  // extract data from file fields\n  if (!formField.getAttribute(\"type\")) return formField.value;\n  switch (formField.getAttribute(\"type\")?.toLowerCase()) {\n    case \"file\":\n      const file = formField.files ? formField.files[0] : null;\n      if (!file) return;\n      return {\n        Name: file.name,\n        Encoded: new Promise((resolve) => {\n          const reader = new FileReader();\n          reader.readAsDataURL(file);\n          reader.onload = (e) => {\n            if (e.target) {\n              resolve(e.target.result);\n            }\n          };\n        }),\n      };\n    case \"radio\":\n      return formField.value;\n    case \"checkbox\":\n      return formField.checked ? formField.value : \"\";\n    default:\n      return formField.value;\n  }\n}\n\nexport function validateForm(\n  formWrapper: Element,\n  options: PristineOptions\n): boolean {\n  const pristine = new Pristine(formWrapper, options);\n  return pristine.validate();\n}\n\nexport function sendForm(\n  formData: any,\n  submitButtom: HTMLButtonElement,\n  endpoint: string = \"Form/ProcessForm\"\n): Promise<unknown> {\n  const sxc = $2sxc(submitButtom);\n  return sxc.webApi.fetchRaw(endpoint, formData);\n}\n\nexport function disableInputs(wrapper: Element, state: boolean) {\n  wrapper.classList.toggle(\"disable\", state);\n  wrapper\n    .querySelectorAll(\"input,textarea,select,button\")\n    .forEach((elem) => (elem as HTMLElement).setAttribute(\"disabled\", \"true\"));\n}\n\nexport function enableInputs(wrapper: Element) {\n  wrapper.classList.remove(\"disable\");\n  wrapper\n    .querySelectorAll(\"input,textarea,select,button\")\n    .forEach((elem) => (elem as HTMLElement).setAttribute(\"disabled\", \"false\"));\n}\n","declare let grecaptcha: any;\r\n\r\n/*\r\n  This is a shared code used in various 2sxc apps. Make sure that they are in sync, so if you improve it, improve all 2sxc apps which use this. \r\n  ATM they are:\r\n  - EventsAndCourses6\r\n  - MobiusForms5\r\n  The master with the newest / best version must always be the Gallery7, the others should then get a fresh copy.\r\n  Because this is shared, all parameters like DOM-IDs etc. must be provided in the Init-call that it can work across apps\r\n*/ \r\n\r\n// Checks if a recaptcha is implemented in the current Form and returns promise with token if existing\r\n\r\nexport function getRecaptchaToken(wrapper: Element) {\r\n  const recap = wrapper.getElementsByClassName('app-mobius6-recaptcha')[0] as HTMLElement;\r\n\r\n  if(!recap) return Promise.resolve(null);\r\n  \r\n  // if many found, probably not ok\r\n  if(wrapper.getElementsByClassName('app-mobius6-recaptcha').length !== 1) throw \"recaptcha not found\";\r\n\r\n  // return promise of google response for the recap\r\n  // null if failed, something cryptic if ok\r\n  return grecaptcha.execute(recap.dataset.sitekey, {action: 'submit'})\r\n}\r\n\r\nexport function requiresRecaptcha(wrapper: Element): boolean {\r\n  if (wrapper.getElementsByClassName('app-mobius6-recaptcha')[0]) return true;\r\n  return false;\r\n}","import tippy, { Placement } from \"tippy.js\";\n// import 'tippy.js/dist/tippy.css'; // optional for styling\n\ninterface TippyOptions {\n  placement: Placement;\n  interactive: Boolean;\n  allowHTML: Boolean;\n}\n\nexport function initTippy({ domClass, options }: { domClass: string; options: TippyOptions }) {\n  document.querySelectorAll(`.${domClass}`).forEach((element: Element) => {\n    let content = \"\";\n    const fileId = element.id.split(\"-\").pop();\n    let hasLength = false\n    \n    if (element.hasAttribute(\"data-content\")) {\n      content = (element as HTMLElement).dataset.content || \"\";\n      const contentData = (element as HTMLElement).dataset.content;\n      if (contentData && contentData.length > 10) hasLength = true;\n    } else {\n      const contentElements = document.querySelectorAll(`.app-mobius-tooltip-content[data-file-id=\"${fileId}\"]`);\n      if (contentElements.length > 0) {\n        hasLength = true;\n        content = Array.from(contentElements)\n          .map((contentElement) => contentElement.innerHTML)\n          .join(\"\");\n      }\n    }\n    if (hasLength) {\n      tippy(`#${element.id}`, {\n        content: content, // From Div\n        placement: options.placement,\n        interactive: options.interactive as boolean,\n        allowHTML: options.allowHTML as boolean,\n      });\n    }\n  });\n}\n","/*\r\n  This is a shared code used in various 2sxc apps. Make sure that they are in sync, so if you improve it, improve all 2sxc apps which use this. \r\n  ATM they are:\r\n  - EventsAndCourses6\r\n  - MobiusForms5\r\n  The master with the newest / best version must always be the Gallery7, the others should then get a fresh copy.\r\n  Because this is shared, all parameters like DOM-IDs etc. must be provided in the Init-call that it can work across apps\r\n*/ \r\n\r\nexport function addTrackingEvent(trackingEventName: string, trackingCategory: string, trackingLabel: string) {\r\n  const trackingEvent = new CustomEvent(trackingEventName, { detail: { category: trackingCategory, action: 'submit', label: trackingLabel } });\r\n  document.dispatchEvent(trackingEvent);\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t385: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkapp_mobius_forms5\"] = self[\"webpackChunkapp_mobius_forms5\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [410], () => (__webpack_require__(484)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","lib_2sxc_alerts_1","require","lib_2sxc_forms_1","lib_2sxc_recaptcha_1","lib_2sxc_tracking_1","lib_2sxc_tippy_1","Pristine","debug","winAny","window","_a","appMobius6","_b","_d","init","_ref","_this","domAttribute","webApiUrl","validationOptions","document","getElementsByTagName","length","setAttribute","mobiusWrapper","querySelectorAll","concat","forEach","btn","sendButton","querySelector","style","display","addEventListener","event","preventDefault","btnElement","parentNode","closest","validate","closestGroup","nextStep","nextElementSibling","nextStepButton","classList","add","submitButton","__awaiter","_regeneratorRuntime","mark","_callee","eventBtn","formValues","token","mailchimp","endpoint","wrap","_context","prev","next","currentTarget","addTrackingEvent","innerText","validateForm","showAlert","abrupt","getFormValues","sent","requiresRecaptcha","getRecaptchaToken","Recaptcha","contains","MailChimp","disableInputs","sendForm","then","result","ok","enableInputs","stop","_c","_e","initTippy","exports","wrapper","responseMessageElement","elem","formWrapper","data","Files","Fields","Terms","CustomerMails","formField","formFieldElement","fieldKey","getFieldKey","value","hasAttribute","fieldId","getAttribute","fieldValue","getFieldValue","push","tagName","id","selectedOptions","i","optionValue","toLowerCase","Object","assign","Field","checked","Promise","all","map","promiseFileMap","loadedFiles","options","formData","submitButtom","arguments","undefined","$2sxc","webApi","fetchRaw","state","toggle","remove","file","Encoded","resolve","files","Name","name","reader","FileReader","readAsDataURL","onload","e","target","recap","getElementsByClassName","grecaptcha","execute","dataset","sitekey","action","domClass","element","content","fileId","split","pop","hasLength","contentData","contentElements","Array","from","contentElement","innerHTML","join","tippy_js_1","placement","interactive","allowHTML","__importDefault","trackingEventName","trackingCategory","trackingLabel","trackingEvent","CustomEvent","detail","category","label","dispatchEvent","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","call","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","r","d","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}