@inherits Custom.Hybrid.Razor14
@using ToSic.Sxc.Data;
@{
  ITypedItem formConfig = DynamicModel.FormConfig;
  var FieldBuilder = CreateInstance("../tools/FieldBuilders.cs");
}
@* Show/Hide features like Terms, Gdpr, Recaptcha *@
@if (DynamicModel.SkipConditions != true) {
  // TermsAndGdprCombined is a custom property that combines TermsEnabled and GdprEnabled
  if (Settings.TermsEnabled && Settings.GdprEnabled && Settings.TermsAndGdprCombined) {
    @FieldBuilder.Checkbox("TermsAll", true)
  } else {
    if (Settings.TermsEnabled)           { @FieldBuilder.Checkbox("Terms", true) }
    if (Settings.GdprEnabled)            { @FieldBuilder.Checkbox("Gdpr", true) }
  }
  // Optional recaptcha
  if (formConfig.Bool("Recaptcha"))      { @Html.Partial("Footer Recaptcha.cshtml") }
}
@* Messages / Send Button *@
@if (DynamicModel.SkipSubmit != true) {
  @Html.Partial("Footer Submit with Messages.cshtml", new { formConfig })
}